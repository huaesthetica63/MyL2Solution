Что выведет программа? Объяснить вывод программы. Объяснить как работают defer’ы и их порядок вызовов.

```go
package main

import (
	"fmt"
)


func test() (x int) {
	defer func() {
		x++
	}()
	x = 1
	return
}


func anotherTest() int {
	var x int
	defer func() {
		x++
	}()
	x = 1
	return x
}


func main() {
	fmt.Println(test())
	fmt.Println(anotherTest())
}
```

Ответ:
```
Программа выведет 2 (функция test), а потом 1 (функция anotherTest).

в anotherTest мы уже вернули значение х, когда оно было равно единице, после этого return'a вызывается defer с анонимной функцией, которая меняет значение х как локальную переменную, поэтому результат инкремента на вывод в main  уже не повлияет, ведь значение уже получено до вызова Defer

функция test отличается тем, что в ней возвращаемое значение - именованное, то есть в объявлении уже прописано имя переменной, значение которой мы вернем. Вызов defer после return работает уже с именованной переменной х, влияя и на возвращаемое значение, что и отличает ситуацию от anotherTest, где работа ведется с локальной переменной х, объявленной внутри функции.

Defer'ы вызываются после return из функции, которая вызывает эти defer'ы
Команды defer'ов помещаются в отложенный стек функций, то есть, порядок вызовов - LIFO,
первым вызовется последний объявленный defer, и в обратном порядке мы постепенно дойдем до самого первого defer. Все вызовы стека осуществляются только после возврата функции.


```
