Что выведет программа? Объяснить вывод программы.

```go
package main

import (
	"fmt"
	"math/rand"
	"time"
)

func asChan(vs ...int) <-chan int {
	c := make(chan int)

	go func() {
		for _, v := range vs {
			c <- v
			time.Sleep(time.Duration(rand.Intn(1000)) * time.Millisecond)
		}

		close(c)
	}()
	return c
}

func merge(a, b <-chan int) <-chan int {
	c := make(chan int)
	go func() {
		for {
			select {
			case v := <-a:
				c <- v
			case v := <-b:
				c <- v
			}
		}
	}()
	return c
}

func main() {

	a := asChan(1, 3, 5, 7)
	b := asChan(2, 4 ,6, 8)
	c := merge(a, b )
	for v := range c {
		fmt.Println(v)
	}
}
```

Ответ:
```
программа выведет числа от 1 до 8 (ввиду рандомизации времени sleep нельзя предугадать, обязательно ли числа пойдут по порядку (попеременно из а и b) или нет), а после закрытия каналов (когда числа кончатся) вплоть до завершения программы тайм-аутом будут бесконтрольно выводиться нули. Это объясняется ошибкой использования конструкции select с каналами в функции merge, которая создает общий канал "с" - результат слияния каналов a,b. В функции asChan после того, как числа закончатся, каналы закрываются, но в merge нельзя определить, закрыт канал или нет - цикл бесконечный, в select не предусмотрена ситуация, когда канал закрыт и прочесть из него число не удается, поэтому при этой ситуации выводится 0 - стандартное значение при инициализации числовой переменной. Также ошибка есть и в использовании range уже в main - канал с из merge так и не закрылся, а main в цикле range ожидает как раз момента закрытия канала. Для исправления ситуации необходимо в merge закрыть канал с, а также предусмотреть закрытия каналов в select, например: v, ok:= <- a, где ok покажет, удалось ли прочесть информацию или канал уже закрыт 

```
